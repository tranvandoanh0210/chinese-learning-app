<div class="review-exercise">
  @if(currentFlashcardExercise){

  <div class="flashcard-container">
    <div
      class="flashcard"
      [class.flipped]="isFlipped"
      (click)="flipCard()"
      [class.completed]="isExerciseCompleted(currentFlashcardExercise)"
    >
      <div class="front">
        <div class="chinese-character">{{ currentFlashcardExercise.question }}</div>
        <div class="pinyin">{{ currentFlashcardExercise.pinyin }}</div>
        <button
          class="audio-btn"
          [class.disabled]="isSpeaking"
          (click)="playChineseAudio(currentFlashcardExercise.question); $event.stopPropagation()"
        >
          üîä
        </button>
      </div>
      <div class="back">
        <div class="answer">{{ currentFlashcardExercise.answer }}</div>
        <div class="description">{{ currentFlashcardExercise.explanation }}</div>
      </div>
      <div class="status-icon">
        @if (isExerciseCompleted(currentFlashcardExercise)) {
        <span class="checkmark">‚úì</span>
        }
      </div>
    </div>
  </div>
  } @if(getFlashcardExercises().length){
  <div class="navigation">
    <button (click)="previousCard()" [disabled]="currentIndex === 0">‚Üê C√¢u tr∆∞·ªõc</button>
    <span>{{ currentIndex + 1 }} / {{ getFlashcardExercises().length }}</span>
    <button (click)="nextCard()" [disabled]="currentIndex === getFlashcardExercises().length - 1">
      C√¢u ti·∫øp theo ‚Üí
    </button>
  </div>
  }
</div>
