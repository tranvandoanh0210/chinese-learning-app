<div class="form-container">
  <!-- Form Content -->
  <div class="form-content">
    <div class="form-card">
      <div class="form-section">
        <!-- Header -->
        <div class="form-header">
          <div class="header-content">
            <button class="btn-back" (click)="cancel()" title="Quay l·∫°i">‚Üê</button>
            <div>
              <h1>{{ isEditMode ? '‚úèÔ∏è S·ª≠a danh m·ª•c' : '‚ûï Th√™m danh m·ª•c m·ªõi' }}</h1>
              @if(lesson){
              <p>
                B√†i h·ªçc: <strong>{{ lesson.name_vi }}</strong>
              </p>
              }
            </div>
          </div>
          <div class="header-actions">
            <button class="btn btn-primary" (click)="saveCategory()" [disabled]="loading">
              @if(loading){ <span class="spinner-small"></span>} üíæ
              {{ isEditMode ? 'C·∫≠p nh·∫≠t' : 'T·∫°o m·ªõi' }}
            </button>
          </div>
        </div>

        <div class="form-grid">
          <div class="form-group">
            <label for="type" class="required">Lo·∫°i danh m·ª•c</label>
            <select
              id="type"
              [(ngModel)]="category.type"
              (change)="onTypeChange()"
              [disabled]="loading || isEditMode"
            >
              @for (type of categoryTypes; track $index) {
              <option [value]="type.value">{{ type.icon }} {{ type.label }}</option>
              }
            </select>
          </div>

          <div class="form-group">
            <label for="name" class="required">T√™n danh m·ª•c</label>
            <input
              type="text"
              id="name"
              [(ngModel)]="category.name"
              placeholder="Nh·∫≠p t√™n danh m·ª•c..."
              [disabled]="loading"
            />
          </div>

          <div class="form-group full-width">
            <label for="description">M√¥ t·∫£ danh m·ª•c</label>
            <textarea
              id="description"
              [(ngModel)]="category.description"
              placeholder="M√¥ t·∫£ v·ªÅ danh m·ª•c n√†y..."
              rows="3"
              [disabled]="loading"
            ></textarea>
          </div>

          <div class="form-group">
            <label for="order" class="required">Th·ª© t·ª± hi·ªÉn th·ªã</label>
            <input
              type="number"
              id="order"
              [(ngModel)]="category.order"
              min="1"
              [disabled]="loading"
            />
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
